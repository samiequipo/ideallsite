<!DOCTYPE html>
<html lang="pt">

  <head>
    <title>Luis Castro | Gestor Comercial</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="Description" content="Author: L.M. Author, Dev: S.D, Compare os planos das melhores operadoras do país, Meo, Nos, Vodafone, Nowo e escolha o melhor para vocês">

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>

    <%# Tab %>
    <%= favicon_link_tag asset_path('lc') %>

    <!-- Custom fonts for this template -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet" type="text/css">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <% unless Rails.env.development? %>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-JED108J09M"></script>
    <% end  %>
  </head>

  <body id="page-top" class="pb-0">
    <%# ------------------------------------------------------- %>
    <%= render 'layouts/navbar'%>

    <%# Render flash message %>
    <div class="sticky-top">
      <div id="results"></div>
    </div>

    <%= yield %>

    <%# Modal Contacts %>
    <%= render "contacts/modal_contacts" %>

    <% if !current_page?(termos_path) %>
      <!-- Social Contact -->
      <%= render "pages/icons" %>

      <!-- Cookies and privacity -->
      <%= render "pages/cookies" %>
    <% end %>
    <%# ------------------------------------------------------- %>
    
    <!-- FontAwesome -->
    <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>

    <%# Default Page Bootstrap  %>
    <% if current_page?(root_path) %>
      <!-- Bootstrap core JavaScript -->
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

      <!-- Plugin JavaScript -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

      <!-- Custom scripts for this template -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/startbootstrap-agency/5.2.2/js/agency.min.js"></script>
    <% end %>
    
    <!-- AOS Moving-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
      AOS.init();const menu=document.querySelector(".menu"),navOpen=document.querySelector(".hamburger"),navClose=document.querySelector(".close"),navBar=document.querySelector(".nav"),links=[...document.querySelectorAll(".scroll-link")];links.map(e=>{e.addEventListener("click",e=>{e.preventDefault();const t=e.target.getAttribute("href").slice(1),n=document.getElementById(t);navBar.classList.contains("fix-nav");let o=n.offsetTop-navHeight;window.scrollTo({top:o,left:0}),navBar.classList.remove("show"),menu.classList.remove("show"),document.body.classList.remove("show")})});
    </script>

    <!-- Target Blank whatsapp -->
    <script>
      $('.popup').click(function(e) {
        e.preventDefault();
        $(this).closest('form').attr('target', '_blank').submit()
        });
    </script>

    <%# BUTTON PACOTES MEO NOS VODAFONE NOWO %>
    <% if !current_page?(root_path) %>
      <script>
        $("#tile-1 .nav-tabs a").click(function () {
          var position = $(this).parent().position();
          var width = $(this).parent().width();
          $("#tile-1 .slider").css({
            "left": +position.left,
            "width": width
          });
        });
        var actWidth = $("#tile-1 .nav-tabs").find(".active").parent("li").width();
        var actPosition = $("#tile-1 .nav-tabs .active").position();
        $("#tile-1 .slider").css({
          "left": +actPosition.left,
          "width": actWidth
        });
      </script>
    <% end  %>

    <%# DINAMIC ICONS %>
    <script>
      var $screen = $(".screen"),
          $call = $(".call"),
          $callMenu = $(".call-menu"),
          $callItems = $(".call-items"),
          $notCall = $("body").not( $(".call") );
          $ligueExpand = $(".ligueExpand");
      
      $call.on("click", function (event) {
        if (localStorage.acceptCookies == 'true') {
          $screen.toggle();
          event.stopPropagation();
          $callItems.slideToggle(400);
          $callMenu.find("i").toggleClass("fa-bars fa-times");
          $call.css('width', '3.4rem');
          $ligueExpand.empty();
        
          $screen.toggle();
        }
      });
    </script>

    <%# Cookies and privacity %>
    <script>
      function checkAcceptCookies() {
        if (localStorage.acceptCookies == 'true') {
        } else {
          $('#div-cookies').show();
        }
      }
      
      function acceptCookies() {
        localStorage.acceptCookies = 'true';
        $('#div-cookies').hide();
      }
      
      $(document).ready(function() {
          checkAcceptCookies();
      });
    </script>
  </body>
</html>
